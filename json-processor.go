package main

import (
	"encoding/json"
	"log"
	"os"
)

type Devices struct {
	devices map[string][]string
}

func readDevices() Devices {
	filepath := "./json/checklist.json"
	// reading the checklist.json file
	dcontent, err := os.ReadFile(filepath)
	if err != nil {
		log.Fatal("There is no file " + filepath)
	}
	var devices Devices
	err = json.Unmarshal(dcontent, &devices.devices)
	if err != nil || &devices.devices == nil {
		log.Fatal("Check if the file " + filepath + " is in json format")
	}
	return devices
}

func writeToFile(filename string, byte []byte) error {
	return os.WriteFile("./json/"+filename+".json", byte, 0666)
}
